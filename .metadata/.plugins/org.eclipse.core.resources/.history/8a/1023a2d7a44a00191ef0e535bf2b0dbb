import java.lang.reflect.Field;
import java.lang.reflect.Modifier;
import java.util.Scanner;

public class ObjectCreator {
	private Object object;
	private Class classObject;
	private int currentObjectNumber;
	
	public boolean displayObjectSelections(int currentObjectNumber) {
		int selection = 0;
		boolean doneWithObject = false;
		this.currentObjectNumber = currentObjectNumber;
		Scanner input = new Scanner(System.in);
		
		while(doneWithObject != true){
			System.out.println("OBJECT #" + currentObjectNumber);
			if(currentObjectNumber != 1){
				System.out.println("Would you like to create another object?");
			}
			System.out.print(
					"Please choose an object\n" +
					"1) Library Object\n" +
					"2) Book Object\n" +
					"3) Owner Object\n" +
					"Enter the number here please : ");
				selection = input.nextInt();
				System.out.println(selection);
				//input.nextLine(); // to stop input skipping
				if(selection == 1)
				{
					object = new Library();
					classObject = object.getClass();
					fieldsSelections();
				}else if(selection == 2) {
					object = new Book();
					classObject = object.getClass();
					fieldsSelections();
				}else if(selection == 3) {
					object = new Owner();
					classObject = object.getClass();
					fieldsSelections();
				}else {
					doneWithObject = false;
				}
				
		}
		
		return doneWithObject;
	}


	private void fieldsSelections() {
		String changeFieldValueString;
		boolean more = true;
		
		while(more == true)
		{
			Scanner change = new Scanner(System.in);
			System.out.println("########################################");
			System.out.println("Would you like to change any of the object's field value?"
								+ "Enter \"YES\" OR \"NO\" please!");
			changeFieldValueString = change.nextLine();
			if(changeFieldValueString.equals("YES")){
				Field chosen = fieldOptions();
				if(chosen != null)
				{
					changeField(chosen);
				}
			}else if(changeFieldValueString.equals("NO")){
				more = false;
			}else {
				System.out.println("Please enter all upper case letter for \"YES\" OR \"NO\" please!");
			}
			
			change.close();
		}
		
	}
	
	private Field fieldOptions()
	{
		Field fieldArray[] = classObject.getDeclaredFields(); 
		Field chosen = null;
		int selection = -1 ;
		
		System.out.println("Please choose a field from below");
		for(int i = 0; i < fieldArray.length; i++)
		{
			System.out.println( i+1 + ") " + fieldArray[i].getName() + "\n");
		}
		
		Scanner fieldInput = new Scanner(System.in);
		while(selection == -1)
		{
			System.out.print("Enter the number here please : ");
			if(fieldInput.hasNextLine())
			{
				selection = fieldInput.nextInt();
				chosen = fieldArray[selection-1];
			}
			fieldInput.close();
		}
		return chosen;
	}
	
	
	private void changeField(Field chosen)
	{
		String changeTo = null;
		Scanner scan = new Scanner(System.in);
		int valueEntered = 0;
		
		System.out.println("You choose " + chosen.getName() 
		+ "\nType: " + chosen.getType() 
		+ "\nModifier: " + Modifier.toString(chosen.getModifiers()));
		while(valueEntered == 0)
		{
			System.out.print("Enter new value: ");
			
			if(scan.hasNextLine())
			{
				changeTo = scan.nextLine();
				valueEntered = 1;
				System.out.println("HAS NEXT LINE");
			}
								
				
		}
		
		scan.close();			

		
	}
	
	
	
	

}
